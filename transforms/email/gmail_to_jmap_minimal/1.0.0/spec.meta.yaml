id: email/gmail_to_jmap_minimal
version: 1.0.0
engine: jsonata
runtime: node

from_schema: iglu:com.google/gmail_email/jsonschema/1-0-0
to_schema: iglu:org.canonical/email_jmap_minimal/jsonschema/1-0-0

spec_path: spec.jsonata

checksum:
  jsonata_sha256: "27b82c5de8b608dfcb66cd0e809415b866cf3bd0b9f7154c41ec0dfa6bbbf4f2"

provenance:
  author: "Ben Machina <ben@therapyai.com>"
  created_utc: "2025-11-13T12:00:00+00:00"

status: stable

description: >
  Transform Gmail API v1 message to JMAP Minimal canonical format.
  Extracts metadata only (no body content inline). Body referenced by blobId.
  Use for: search indexes, analytics, high-volume processing.
  Storage: ~1-5KB per email.

tests:
  - input: tests/input.json
    expect: tests/expected.json
